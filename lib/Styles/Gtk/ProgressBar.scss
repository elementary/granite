progressbar {
    $trough-width: rem(9px);

    progress {
        @include highlightbar;
        @include border-interactive-roundrect;

        &:backdrop {
            filter: grayscale(100%);
        }
    }

    trough {
        @include trough;
        @include border-interactive-roundrect;

        min-height: $trough-width;
        min-width: $trough-width;
    }

    &.horizontal {
        progress {
            min-height: $trough-width - rem(2px);

            &:not(.pulse) {
                animation: progress 1.5s easing() infinite;
                background-image:
                    linear-gradient(
                        to right,
                        rgba(white, 0),
                        rgba(white, 0.25) 60%,
                        rgba(white, 0)
                    );
                background-repeat: no-repeat;
                background-size: 100% 100%;

                &.right {
                    animation-direction: reverse;
                }

                &:backdrop {
                    animation: none;
                    background-image: none;
                }
            }
        }
    }

    &.vertical {
        progress {
            min-width: $trough-width - rem(2px);
        }
    }

    @keyframes progress {
        from {
            background-position: calc(0% - 48px), 0%;
        }

        to {
            background-position: calc(100% + 48px), 0%;
        }
    }
}
